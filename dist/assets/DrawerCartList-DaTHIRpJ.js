import{r as i,a4 as L,d as b,G as B,a5 as V,aa as E,p as M,o as r,w as l,c,h as p,F as N,H as P,e as a,K as _,b as v,j as S,k as h,al as T}from"./index-DTjOUT29.js";import{u as z}from"./cart-DDR8xpIB.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const O=()=>{const u=i(window.innerWidth<=768),d=()=>{u.value=window.innerWidth<=768};return L(()=>{window.addEventListener("resize",d)}),{isMobile:u}},I={key:0},U={key:1,class:"container"},W={class:"image-wrapper"},$=["src"],j={class:"info-wrapper"},q={class:"text-wrapper"},G=["onClick"],H={__name:"DrawerCartList",setup(u,{expose:d}){const k=b(),s=i(!1),n=z(),f=i(!0),o=i(!1),y=async()=>{o.value=!0;try{await n.getCartProducts()}finally{o.value=!1,s.value=!!f.value}},g=async w=>{o.value=!0;try{await n.deleteCartProduct(w)}finally{o.value=!1,s.value=!!f.value}},C=()=>{s.value=!1,k.push("/cart")};return d({open:y}),(w,t)=>{const x=B("font-awesome-icon"),m=S,D=E;return V((r(),M(p(T),{modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=e=>s.value=e),size:"65%","with-header":!1},{footer:l(()=>[v(m,{type:"primary",class:"check-btn",onClick:C},{default:l(()=>t[2]||(t[2]=[h("購物車結帳")])),_:1}),v(m,{class:"check-btn continue-shopping",onClick:t[0]||(t[0]=e=>s.value=!1)},{default:l(()=>t[3]||(t[3]=[h("繼續購物")])),_:1})]),default:l(()=>[p(n).cartList.length===0?(r(),c("p",I,"你的購物車是空的喔!")):(r(),c("div",U,[(r(!0),c(N,null,P(p(n).cartList,e=>(r(),c("div",{key:e.id,class:"product-wrapper"},[a("div",W,[a("img",{src:e.product.imagesUrl[0],alt:"product picture"},null,8,$)]),a("div",j,[a("h5",null,_(e.product.title),1),a("div",q,[a("p",null,"NTD"+_(e.product.price)+" x "+_(e.qty),1),a("i",{onClick:K=>g(e.id)},[v(x,{icon:["far","trash-can"]})],8,G)])])]))),128))]))]),_:1},8,["modelValue"])),[[D,o.value]])}}},Q=F(H,[["__scopeId","data-v-a3c68406"]]);export{Q as D,O as u};
