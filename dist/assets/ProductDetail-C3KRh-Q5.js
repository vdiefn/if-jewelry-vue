import{r as n,M as j,a4 as F,N as z,c as d,a5 as G,I as N,b as l,aa as H,e as t,w as r,h as o,F as h,H as P,K as c,d as J,G as K,o as i,ap as E,k as m,aq as A,ar as O,as as Q,j as L,at as C,au as W,af as X,p as Y}from"./index-DTjOUT29.js";import{b as Z,a as tt,C as et}from"./frontProducts-kdCzs0er.js";import{u as at}from"./cart-DDR8xpIB.js";import{u as lt,D as ot}from"./DrawerCartList-DaTHIRpJ.js";/* empty css                                                                    */import{_ as st}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./api-D0beKIRp.js";const rt={key:0,class:"container"},ut={class:"top"},nt={class:"image-section"},it={class:"big-image"},dt=["src"],ct={class:"small-image"},pt=["onClick"],vt=["src"],mt={class:"purchase-section"},ft={class:"price-info"},_t={class:"button-wrapper"},gt={key:0,class:"other-products"},yt={class:"card-wrapper"},wt={__name:"ProductDetail",setup(ht){const k=z(),B=J(),v=n(1),s=n({}),b=n("first"),p=n(""),D=n(""),f=n([]),_=n(0),g=n([]),y=n(!1),T=at(),V=n(),{isMobile:x}=lt(),I=async a=>{y.value=!0;try{s.value=await Z(a),p.value=s.value.product.category,D.value=s.value.product.id,await R(),g.value=s.value.product.imagesUrl,window.scrollTo({top:0,behavior:"smooth"})}catch(e){console.error(e)}finally{y.value=!1}},R=async()=>{if(p.value.length>0)try{const a=await tt(1,p.value);f.value=a.products.filter(e=>e.id!==D.value)}catch(a){console.error(a)}},$=a=>{_.value=a},q=async(a,e)=>{await T.addToCart({product_id:a,qty:e}),x.value&&await V.value.open()},M=async(a,e)=>{await T.addToCart({product_id:a,qty:e}),await B.push("/cart")};return j(()=>k.params.id,a=>{I(a)}),F(()=>{I(k.params.id)}),(a,e)=>{const S=K("RouterLink"),U=H;return i(),d(h,null,[s.value.product?G((i(),d("div",rt,[l(o(A),{separator:"/"},{default:r(()=>[l(o(E),null,{default:r(()=>[l(S,{to:{path:"/products"},style:{"font-weight":"normal"}},{default:r(()=>e[4]||(e[4]=[m("全部商品")])),_:1})]),_:1}),l(o(E),{to:`/products?category=${p.value}`},{default:r(()=>[m(c(p.value),1)]),_:1},8,["to"])]),_:1}),t("div",ut,[t("div",nt,[t("div",it,[t("img",{src:g.value[_.value],alt:"target product picture"},null,8,dt)]),t("div",ct,[(i(!0),d(h,null,P(g.value,(u,w)=>(i(),d("div",{key:w,class:O(["image-wrapper",{active:w===_.value}]),onClick:Ct=>$(w)},[t("img",{src:u,alt:"product picture"},null,8,vt)],10,pt))),128))])]),t("div",mt,[t("h5",null,c(s.value.product.title),1),t("div",ft,[t("p",null,"$NTD "+c(s.value.product.origin_price),1),t("h6",null,"$NTD "+c(s.value.product.price),1)]),t("h6",null,c(s.value.product.description),1),l(o(Q),{modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=u=>v.value=u),min:1,max:10},null,8,["modelValue"]),t("div",_t,[l(o(L),{type:"primary",onClick:e[1]||(e[1]=u=>q(s.value.product.id,v.value))},{default:r(()=>e[5]||(e[5]=[m("加入購物車")])),_:1}),l(o(L),{type:"warning",onClick:e[2]||(e[2]=u=>M(s.value.product.id,v.value))},{default:r(()=>e[6]||(e[6]=[m("立即購買")])),_:1})])])]),l(o(W),{modelValue:b.value,"onUpdate:modelValue":e[3]||(e[3]=u=>b.value=u),class:"tabs-wrapper"},{default:r(()=>[l(o(C),{label:"商品描述",name:"first",class:"product-info"},{default:r(()=>[t("p",null,c(s.value.product.content),1)]),_:1}),l(o(C),{label:"送貨與付款方式",name:"second",class:"payment-and-delivery-method"},{default:r(()=>e[7]||(e[7]=[t("div",{class:"text"},[t("h6",null,"送貨方式"),t("p",null,"If Jewelry 門市取貨"),t("p",null,"7-11 取貨不付款"),t("p",null,"全家 取貨不付款")],-1),t("div",{class:"text"},[t("h6",null,"付款方式"),t("p",null,"信用卡支付"),t("p",null,"銀行轉帳")],-1)])),_:1}),l(o(C),{label:"保養方式",name:"third",class:"jewelry-care"},{default:r(()=>e[8]||(e[8]=[t("h5",null,"飾品配戴時的保養",-1),t("p",null,"1. 預防飾品損壞，需要避免飾品接觸到香水、酒精、去光水、清潔劑、化妝品或其它含有化學藥劑成分的物質",-1),t("p",null,"2. 避免於泡溫泉、洗澡、去海邊玩時配戴飾品，以免影響飾品光澤或是損壞飾品。",-1),t("h5",null,"飾品配戴後的保養",-1),t("p",null,"1.若長時間不配戴，建議可用軟布擦拭掉飾品上因配戴後所殘留的汗水、油脂。",-1),t("p",null,"2. 因為飾品的材質不一，軟硬度也不同，建議把飾品個別收納在夾鏈袋中，不但可以隔絕空氣氧化，也可以避免放在同一個首飾盒中互相摩擦而受傷。",-1),t("h5",null,"飾品清潔保養",-1),t("p",null,"1. 一般飾品只要以清水混合一點點中性洗碗精，搭配軟毛牙刷清洗，沖洗後以軟布將水分擦拭乾淨即可。",-1),t("p",null,"2. 銀飾品變黑是因為跟空氣中的硫產生硫化作用，只要使用洗銀水或拭銀布就可以讓銀飾品恢復以往光澤，若是擔心銀飾品失重，也可以使用較高級的洗銀乳來保養貴重的銀飾珠寶。",-1),t("p",null,"3. 輕微的汙垢可以用牙刷或化妝棉沾取牙膏在發黑的地方，輕輕畫圓擦拭後，就能除去氧化的部分，達到拋光的效果了。",-1)])),_:1})]),_:1},8,["modelValue"]),f.value.length>0?(i(),d("div",gt,[l(o(X),{"content-position":"center"},{default:r(()=>e[9]||(e[9]=[t("h5",null,"你可能也會喜歡",-1)])),_:1}),t("div",yt,[(i(!0),d(h,null,P(f.value.slice(0,3),u=>(i(),Y(o(et),{data:u,key:u.id},null,8,["data"]))),128))])])):N("",!0)])),[[U,y.value]]):N("",!0),l(o(ot),{ref_key:"drawerCartListRef",ref:V},null,512)],64)}}},Pt=st(wt,[["__scopeId","data-v-432412f1"]]);export{Pt as default};
