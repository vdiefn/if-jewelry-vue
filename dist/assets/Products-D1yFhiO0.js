import{r as o,M as v,a4 as h,N as f,a5 as m,aa as P,c as r,e as g,h as s,K as k,F as q,H as C,b as w,o as t,p as x,ab as B}from"./index-DTjOUT29.js";import"./api-D0beKIRp.js";/* empty css                                                                    */import{_ as b}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as N,C as D}from"./frontProducts-kdCzs0er.js";const E={class:"container"},F={key:0},L={key:1},M={class:"card-wrapper"},V={class:"pagination-block"},H={__name:"Products",setup(I){const c=o({}),e=f(),i=o(1),p=o(1),n=o(!1),u=async(a,d)=>{n.value=!0;try{c.value=await N(a,d),i.value=c.value.pagination.total_pages,p.value=a}catch(l){console.error(l)}finally{n.value=!1}},y=a=>{u(a,e.query.category)};return v(e,a=>{u(1,a.query.category)}),h(()=>{u(1,e.query.category)}),(a,d)=>{const l=P;return m((t(),r("div",E,[s(e).query.category?(t(),r("h3",F,k(s(e).query.category),1)):(t(),r("h3",L,"全部商品")),g("div",M,[(t(!0),r(q,null,C(c.value.products,_=>(t(),x(s(D),{data:_,key:_.id},null,8,["data"]))),128))]),g("div",V,[w(s(B),{layout:"prev, pager, next","page-count":i.value,onCurrentChange:y},null,8,["page-count"])])])),[[l,n.value]])}}},A=b(H,[["__scopeId","data-v-fc1a9dc5"]]);export{A as default};
