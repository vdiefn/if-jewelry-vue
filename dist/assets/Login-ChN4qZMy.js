import{r as p,a as v,u as V,c as F,b as s,w as t,E as k,d as b,o as B,e as f,f as I,g as L,h as c,i as N,l as R,j as S,k as U,m as g}from"./index-DTjOUT29.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const C=()=>{let r="",l=new Date().getHours();return l<=10?r="早安":l<=18?r="午安":r="晚安",r},H={class:"login-container"},T={__name:"Login",setup(r){const l=b(),i=p(!1),d=p(),o=v({username:"",password:""}),_=V(),w=async m=>{m&&await m.validate(async(e,n)=>{if(e){i.value=!0;try{await _.userLogin(o),await l.push("/admin"),g({type:"success",message:`${C()}，歡迎登入`})}catch(a){g({type:"error",message:a.response.data.message})}finally{i.value=!1}}else console.error("Error Submit",n)})},E={username:[{required:!0,message:"使用者帳號不可為空",trigger:"blur"},{type:"email",message:"請輸入有效的Email格式",trigger:["blur","change"]}],password:[{required:!0,min:6,max:20,message:"密碼長度為6-20位英文/數字",trigger:"change"}]};return(m,e)=>{const n=L,a=I,y=S,x=k;return B(),F("div",H,[s(x,{class:"login-form",model:o,rules:E,ref_key:"ruleFormRef",ref:d},{default:t(()=>[e[4]||(e[4]=f("h1",null,"HELLO",-1)),e[5]||(e[5]=f("h2",null,"歡迎使用後台管理系統",-1)),s(a,{prop:"username"},{default:t(()=>[s(n,{"prefix-icon":c(N),modelValue:o.username,"onUpdate:modelValue":e[0]||(e[0]=u=>o.username=u)},null,8,["prefix-icon","modelValue"])]),_:1}),s(a,{prop:"password"},{default:t(()=>[s(n,{type:"password","prefix-icon":c(R),modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=u=>o.password=u),"show-password":""},null,8,["prefix-icon","modelValue"])]),_:1}),s(a,null,{default:t(()=>[s(y,{class:"login-btn",type:"primary",onClick:e[2]||(e[2]=u=>w(d.value)),loading:i.value},{default:t(()=>e[3]||(e[3]=[U(" 登入 ")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])}}},D=q(T,[["__scopeId","data-v-6904a49f"]]);export{D as default};
